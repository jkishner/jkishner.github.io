<!DOCTYPE html>
<html>
	<head>
		<title>Convert Tumblr and Instagram Post Web Links to iOS URL Schemes With These Launch Center Pro Actions</title>
		<meta charset='utf-8'> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.jeffreykishner.com/rss.xml" />
		
		<!-- useBootstrap -->
	<link href="http://static.smallpicture.com/bootswatch/readable/bootstrap.min.css" rel="stylesheet" />
	<script src="http://static.smallpicture.com/bootstrap/js/jquery-1.9.1.min.js"></script>
	<script src="http://static.smallpicture.com/bootstrap/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="http://static.smallpicture.com/concord-assets/fontawesome/4.1.0/css/font-awesome.min.css">
		<!-- useSmallPictStyles -->
	<link href="http://fargo.io/cms/platform.css?v=0.48" rel="stylesheet">
	<script src="http://fargo.io/cms/platform.js?v=0.48"></script>
	<script>
		var pagetable = {
    "opmlUrl": "",
    "opmlTitle": "jeffrey",
    "opmlOwnerName": "Jeffrey Kishner",
    "opmlOwnerEmail": "jk@jeffreykishner.com",
    "opmlDateModified": "Tue, 31 Mar 2015 17:50:02 GMT",
    "opmlExpansionState": "1,2,3,4,6,7,8,20,21,27,29,30,32,33,43,44,65,66,67,75,85,94,96,97,107,109,112,113,129,130",
    "opmlLink": "http://blog.jeffreykishner.com/",
    "opmlFeed": "http://blog.jeffreykishner.com/rss.xml",
    "opmlOwnerProfile": "http://jeffreykishner.com/",
    "opmlFlEncrypted": "false",
    "opmlLongTitle": "Jeffrey Kishner",
    "opmlFont": "",
    "opmlFontSize": "",
    "opmlLineHeight": "",
    "opmlFlCmsRender": "true",
    "opmlFlCmsRenderInBackground": "true",
    "opmlDescription": "",
    "opmlLinkHosting": "https://dl.dropbox.com/s/0vnsj1qc2zq31bi/jeffrey.pack",
    "opmlTypeInsertedNode": "",
    "opmlLinkPublicUrl": "https://dl.dropbox.com/s/8lpmfklfk5w559i/jeffrey.opml",
    "opmlLastCursor": "63",
    "opmlDateCreated": "",
    "opmlOwnerId": "",
    "menuname": "jeffmenu",
    "googleAnalyticsID": "",
    "domain": "",
    "bootstrapTheme": "readable",
    "type": "outline",
    "slogan": "All baking done on premises.",
    "disqusGroupName": "jeffreykishner",
    "siteTimeZone": "-5",
    "dateFormat": "%A, %B %e, %Y at %l:%M %p",
    "flIndexPage": false,
    "flDisqusComments": "true",
    "flStoryTextOnIndexPage": false,
    "flNonDocHeadsOnIndexPage": true,
    "flStoryDateOnIndexPage": false,
    "storyDateFormat": "%D; %r",
    "maxStoriesOnIndexPage": 25,
    "maxStoryList": 25,
    "authorTwitterAccount": "kishner",
    "authorFacebookAccount": "jeffreykishner",
    "authorProfileUrl": "http://jeffreykishner.com/",
    "titleColor": "white",
    "siteFolder": "jkishner.github.io/",
    "flProfile": false,
    "ctLevelsOnIndexPage": 1,
    "blogHomeItemCount": 25,
    "flPgfPermaLinks": false,
    "flFixedMenu": "false",
    "maxStreamDays": "14",
    "flMarkdown": true,
    "leftIndent": 0,
    "text": "Convert Tumblr and Instagram Post Web Links to iOS URL Schemes With These Launch Center Pro Actions",
    "created": "Mon, 07 Jul 2014 18:38:49 GMT",
    "description": "",
    "path": "2014/07/07/convertTumblrAndInstagramPostWebLinksToIosUrlSchemesWithTheseLaunchCenterProActions",
    "subheadColor": "white",
    "flMapHeader": "false",
    "mapLatitude": "40.774295",
    "mapLongitude": "-73.970833",
    "mapType": "roadmap",
    "mapZoom": "14",
    "flSnapEnabled": "true",
    "flHideByline": "false",
    "backgroundImage": "",
    "streamHighlightColor": "yellow",
    "streamTextFrameColor": "whitesmoke",
    "streamVersion": "2",
    "flEmojify": "true",
    "authorGithubAccount": "jkishner",
    "name": "convertTumblrAndInstagramPostWebLinksToIosUrlSchemesWithTheseLaunchCenterProActions",
    "icon": "calendar",
    "isFeedItem": "true",
    "isComment": "false",
    "cssUrl": "http://static.smallpicture.com/bootswatch/readable/bootstrap.min.css",
    "menuTitle": "Jeffrey Kishner",
    "now": "Tue Mar 31 2015 13:50:16 GMT-0400 (EDT)",
    "copyright": "&copy; 2015 Jeffrey Kishner.",
    "url": "http://blog.jeffreykishner.com/2014/07/07/convertTumblrAndInstagramPostWebLinksToIosUrlSchemesWithTheseLaunchCenterProActions.html"
}; //12/12/13 by DW
		</script>
		<style>
			@media only screen 
			and (min-device-width : 320px) 
			and (max-device-width : 480px) {
				.navbar .nav>li {
					display: none;
					height: 0;
					}
				.divFargoSocialMediaLinks {
					display: none;
					}
				.container {
					margin-top: 10px;
					width: 90%;
					}
				.divFargoMarkdown p {
					font-size: 17px;
					line-height: 140%;
					}
				h2 {
					font-size: 24px;
					line-height: 140%;
					}
				.divHeadlineUnit {
					margin-bottom: 5px;
					}
				.divPrevNext {
					font-size: 1.2em;
					}
				.divBreadcrumbs {
					display: none;
					font-size: 15px;
					}
				.breadcrumb>li>.divider {
					padding: 0;
					padding-left: 1px;
					}
				.spSlogan {
					display: none;
					}
				}
			</style>
		<style>
			.divOutlineImage {
				height: 100%;
				width: 100%;
				position: absolute;
				right: 0;
				
				-webkit-background-size: cover;
				-moz-background-size: cover;
				-o-background-size: cover;
				background-size: cover;
				background-position: center;
				background-repeat: no-repeat;
				
				z-index: -1;
				opacity: 1;
				}
			.divTextInFrontOfImage {
				background-color: white; 
				opacity: .90;
				padding: 1.5em;
				border:2px solid whitesmoke;
				}
			.spSlogan {
				display: none;
				}
			</style>
		<style>
			.divOutlineNoMarkdown {
				font-size: 20px;
				line-height: 150%;
				}
			.divOutlineNoMarkdown li {
				line-height: 150%;
				}
			.divOutlineNoMarkdown li {
				}
			.divOutlineNoMarkdown .ulOutlineList {
				padding: 0;
				margin: 0;
				}
			.divOutlineNoMarkdown .liOutline {
				list-style-type: none;
				margin-bottom: .5em;
				}
			.divOutlineNoMarkdown .divOutlineHead {
				font-weight: bold;
				margin-top: 13px;
				margin-bottom: 13px;
				}
			.divOutlineNoMarkdown .liHasSubs ul {
				}
			.divOutlineNoMarkdown .liNoSubs {
				}
			.divOutlineNoMarkdown .spOutlineIcon {
				margin-right: -11px;
				}
			.divOutlineNoMarkdown .aOutlineWedgeLink {
				color: black;
				}
			.divOutlineNoMarkdown .aOutlineWedgeLink i {
				color: black;
				cursor: pointer;
				position: relative;
				width: .5em;
				left: -1em;
				}
			.divOutlineNoMarkdown .aOutlineTextLink {
				cursor: pointer;
				color: black;
				text-decoration: none;
				}
			.divOutlineNoMarkdown .spPermalink {
				}
			.divOutlineNoMarkdown .spPermalink a {
				text-decoration: none;
				color: purple;
				font-size: 10px;
				font-weight: normal;
				vertical-align: top;
				margin-left: 3px;
				}
			.divOutlineNoMarkdown code {
				display: inline;
				border: none;
				color: black;
				font-size: .85em;
				}
			</style>
		<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-42108157-1', 'jeffreykishner.com');
	ga('send', 'pageview');
	</script>
<style>
	.divByline {
		display: none !important;
		}
	.divStreamDay p {
		margin-bottom: 1em;
		}
	code {
		white-space: pre-line;
		color: black;
		}
	pre {
		white-space: pre-line;
		}
	</style>
		
		<script>
			function ecOutline (idnum) { //7/12/14 by DW
				var c = document.getElementById ("idOutlineWedge" + idnum), idUL = "#idOutlineLevel" + idnum;
				if (c.className == "fa fa-caret-down") {
					c.className = "fa fa-caret-right";
					c.style.color = "black";
					$(idUL).slideUp (75);
					}
				else {
					c.className = "fa fa-caret-down";
					c.style.color = "silver";
					$(idUL).slideDown (75);
					}
				}
			function startupOutlineTemplate () {
				if ((pagetable.backgroundImage != undefined) && (pagetable.backgroundImage.length > 0)) {
					var textInFront = document.getElementById ("idTextInFrontOfImage"); 
					textInFront.className = "divTextInFrontOfImage";
					
					var outlineImage = document.getElementById ("idOutlineImage"); 
					outlineImage.className = "divOutlineImage";
					outlineImage.style.backgroundImage = "url(\"" + pagetable.backgroundImage + "\")";
					}
				}
			</script>
		</head>
	<body>
		<div class="divFargoSocialMediaLinks"><a class="aSocialMediaLink" id="idTwitterLink" href="http://twitter.com/kishner" target="_blank"><i class="fa fa-twitter" style="color: #4099FF; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idFacebookLink" href="http://facebook.com/jeffreykishner" target="_blank"><i class="fa fa-facebook" style="color: #4C66A4; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idGithubLink" href="http://github.com/jkishner" target="_blank"><i class="fa fa-github" style="color: black; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idRssLink" href="http://blog.jeffreykishner.com/rss.xml" target="_blank"><i class="fa fa-rss" style="color: orange; font-weight: bold;"></i></a>
</div>
		
<div class="navbar navbar-static-top" id="idFargoNavbar">
	<div class="navbar-inner">
		<div class="navbar-container">
			<a class="brand" href="http://blog.jeffreykishner.com/">Jeffrey Kishner</a>
			<ul class="nav">
				<li><a href="http://blog.jeffreykishner.com/about.html" target="_blank">About Me</a></li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Archives&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="/2014/10/" target="_blank">Oct 2014</a></li>
						<li><a href="/2014/09/" target="_blank">Sept 2014</a></li>
						<li><a href="/2014/08/" target="_blank">Aug 2014</a></li>
						<li><a href="/2014/07/" target="_blank">July 2014</a></li>
						<li><a href="/2014/06/" target="_blank">June 2014</a></li>
						<li><a href="/2014/05/" target="_blank">May 2014</a></li>
						<li><a href="/2014/04/" target="_blank">Apr 2014</a></li>
						<li><a href="/2014/03/" target="_blank">Mar 2014</a></li>
						<li><a href="/2014/02/" target="_blank">Feb 2014</a></li>
						<li><a href="/2014/01/" target="_blank">Jan 2014</a></li>
						<li><a href="/2013/12/" target="_blank">Dec 2013</a></li>
						<li><a href="/2013/09/" target="_blank">Sept 2013</a></li>
						<li><a href="/2013/08/" target="_blank">Aug 2013</a></li>
						<li><a href="/2013/07/" target="_blank">July 2013</a></li>
						<li><a href="/2013/06/" target="_blank">June 2013</a></li>
						</ul>
					</li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Recent Posts&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
	<li><a href="http://blog.jeffreykishner.com/2014/12/08/tryingAnotherCmsSubscribeToMyNewRssFeed.html" target="_blank">Trying Another CMS,  Subscribe to My New RSS Feed</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/11/21/convertAnInstagramProfileUrlToAnInstagramUrlSchemeWithDraftsLaunchCenterProAndTexttool.html" target="_blank">Convert an Instagram Profile URL to an Instagram URL Scheme with Drafts, Launch Center Pro, and TextTool</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/11/18/.html" target="_blank"><img src="https://dl.dropboxusercontent.com/s/wtlsby926lukw28/2014-11-18-1140AM.jpg?dl=0"></a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/11/13/isDaveGrohlBoredOfTheFooFighters.html" target="_blank">Is Dave Grohl Bored of the Foo Fighters?</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/11/07/i99repaircomReview.html" target="_blank">i99repair.com Review: ★★☆☆☆</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/28/theUberOfGentlemanCompanionsMatterMediumcommentThisEssayByBoobsradleyIsVeryFunny.html" target="_blank">[The Uber of Gentleman Companions] — Matter — Medium.|comment| This essay by @BoobsRadley is very funny.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/24/getTheUrlSchemeForASoundcloudTrackWithThisScript.html" target="_blank">Get the URL Scheme for a SoundCloud Track With This Script</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/21/linkPhilosophyTechSupportExistentialComicsSmirk.html" target="_blank">|link| [Philosophy Tech Support] - Existential Comics. :smirk:</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/20/linkDouchebagTheWhiteRacialSlurWeveAllBeenWaitingFor.html" target="_blank">|link| "Douchebag": The [White Racial Slur] We’ve All Been Waiting For.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/18/linkTheShondaRhimesRevolutionFinishingWhatTheSopranosStartedcommentInsightfulEssayByMarkHarris.html" target="_blank">|link| The [Shonda Rhimes Revolution]: Finishing What ‘The Sopranos’ Started|comment| Insightful essay by Mark Harris.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/17/linkAnitaSarkeesianOnGamergateWereGoingToFixThisquoteWhenIWasInPortlandForMyTalkAtTheXoxoFestivalThisLittleBoyCameUpToMeAndSaidHiImAFeministGamerHowDoYouStopDoingThisWorkAfterThat.html" target="_blank">|link| Anita Sarkeesian on GamerGate: ['We're Going to Fix This'].|quote| When I was in Portland for my talk at the XOXO Festival, this little boy came up to me and said, “Hi, I’m a feminist gamer.” How do you stop doing this work after that?</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/17/linkHowToGetAheadBySoundingLessFeminine.html" target="_blank">|link| [How to Get Ahead By Sounding Less Feminine.]</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/17/linkItHappenedToMeIveBeenForcedOutOfMyHomeAndAmLivingInConstantFearBecauseOfRelentlessDeathThreatsFromGamergateBySpacekatgal.html" target="_blank">|link| IT HAPPENED TO ME: I've Been Forced Out Of My Home And Am Living In Constant Fear Because Of [Relentless Death Threats From Gamergate] (by @spacekatgal)</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/16/linkWhatResearchSaysAboutCatsTheyreSelfishUnfeelingEnvironmentallyHarmfulCreaturesVox.html" target="_blank">|link| What research says about cats: [they're selfish, unfeeling, environmentally harmful creatures] (Vox)|comment| I like 'em anyway.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/16/linkDearWhitePeopleAboutRacialHypocrisyAtACollegecommentRarelyHaveIReadSuchAPositiveReviewByAoScott.html" target="_blank">|link| ‘[Dear White People],’ About Racial Hypocrisy at a College.|comment| Rarely have I read such a positive review by A.O. Scott.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/15/importASingleDraftFromDrafts3IntoDrafts4.html" target="_blank">Import a Single Draft from Drafts 3 Into Drafts 4</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/15/howToOpenLinksInANondefaultBrowserFromTtytterRunningOnMacOsX.html" target="_blank">How to Open Links in a Non-Default Browser from TTYtter Running on Mac OS X</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/15/imSoGladThatV4OfDraftsRunsAsASeparateAppThanV3AndThatTheyUseDistinctUrlSchemesICanUseV3OnMyIpadToSyncViaSimperiumWithMyIphoneWhichIHaveNotUpgradeToIos8AndStillBeAbleToPlayWithTheNewVersionOnMyIpad.html" target="_blank">I'm so glad that v4 of "Drafts" runs as a separate app than v3, and that they use distinct URL schemes. I can use v3 on my iPad to sync via Simperium with my iPhone (which I have not upgraded to iOS8) and still be able to play with the new iOS8-only version on my iPad.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/14/howToPermanentlySetLinkToOpenInLynxInTtytterForPerl.html" target="_blank">How to Permanently Set a Link to Open in Lynx in TTYtter for PERL</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/13/iBroughtABananaToWorkInsteadOfEatingItIBoughtAPackageOfChocolateChocolatechipCookiesAndAte12TheBag.html" target="_blank">I brought a banana to work. Instead of eating it, I bought a package of chocolate chocolate-chip cookies and ate 1/2 the bag. </a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/10/subscribeToLotsAndLotsOfFargoioBlogs.html" target="_blank">Subscribe to Lots and Lots of Fargo.io Blogs</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/10/linkHomelessOutreachInVolumesBooksByBikeForOutsidePeopleInOregon.html" target="_blank">|link| Homeless Outreach in Volumes: [Books by Bike for ‘Outside’ People] in Oregon.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/09/linkWhatIfYouJustHateMakingDinnercommentGoodReadingFromVirginiaHeffernan.html" target="_blank">|link| [What if You Just Hate Making Dinner?]|comment| Good reading from Virginia Heffernan.</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/08/linkTroubleAtTheKoolaidPointSeriousPony.html" target="_blank">|link| [Trouble at the Koolaid Point] — Serious Pony.|comment| a woman should be able to feel safe to express herself w/o harassment</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/10/08/linkCopsPepperSprayBlackTeenInHisOwnLivingRoomAfterMistakingHimForBurglar.html" target="_blank">|link| [Cops Pepper Spray Black Teen In His Own Living Room] After Mistaking Him For Burglar.</a></li>
	</ul>

					<li><a href="mailto:jk@jeffreykishner.com" target="_blank"><i class="fa fa-envelope-o" title="Email Me"></i></a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="divFargoOutlineBody">
			<div id="idOutlineImage">
				<div id="idOutlineContainer" class="container">
					<div id="idTextInFrontOfImage">
						<div class="divHeadlineUnit" id="idHeadlineUnit">
							<div class="divPrevNext">
								<div class="divPrevNextLinks"><a href="http://blog.jeffreykishner.com/2014/07/08/howToGetTheSoundcloudUrlSchemesForUsersAndTrackswebkitendfullscreen.html" title="How to Get the SoundCloud URL Schemes for Users and Tracks" ><i class="fa fa-arrow-left" style="color: black"></i></a>&nbsp;&nbsp;<a href="http://blog.jeffreykishner.com/2014/07/07/commandLineScriptForPaperlessListsChecklistswebkitendfullscreen.html" title="Command Line Script for "Paperless: Lists + Checklists"" ><i class="fa fa-arrow-right" style="color: black"></i></a></div>
								</div>
							<div class="divBreadcrumbs" id="idBreadcrumbs">
								<ul id="idBreadcrumbList" class="breadcrumb"><li><a href="http://blog.jeffreykishner.com">Home</a><span class="divider">/</span><li><a href="http://blog.jeffreykishner.com/2014">2014</a><span class="divider">/</span><li><a href="http://blog.jeffreykishner.com/2014/07">July 2014</a><span class="divider">/</span><li><a href="http://blog.jeffreykishner.com/2014/07/07">July 7</a></li></ul>
								</div>
							<h2>Convert Tumblr and Instagram Post Web Links to iOS URL Schemes With These Launch Center Pro Actions</h2>
							</div>
						<div class="divFargoMarkdown" id="idFargoMarkdown"><p>If you're browsing the Tumblr or Instagram apps on your iOS device and want to get the share URL, they are formatted as follows:</p>

<pre><code>http://NAME.tumblr.com/post/POST_ID/SLUG

http://instagram.com/p/POST_ID
</code></pre>

<p>Unfortunately, these are web links. What if you want a link that will bring you right to that post ID in the <em>app</em>? I have written a couple of <a href="http://contrast.co/launch-center-pro/">Launch Center Pro</a> actions to automate these processes.</p>

<h3>Tumblr</h3>

<p>The URL scheme for a Tumblr post (as per <a href="https://github.com/tumblr/TMTumblrSDK#url-schemes">GitHub</a>) is as follows:</p>

<pre><code>tumblr://x-callback-url/blog?blogName=NAME&amp;postID=POST_ID
</code></pre>

<p>All the information you need is in the web link, but you need to rearrange it all to make it work.</p>

<p><a href="https://launchcenterpro.com/759n6q">Import the Tumblr action</a> or enter the following into LCP:</p>

<pre><code>texttool://x-callback-url/transform?text=[clipboard]&amp;method=split&amp;delimiter=%2F&amp;lc-icon=tumblr&amp;x-success={{texttool://x-callback-url/transform?text=[[output]]&amp;method=split&amp;delimiter=.&amp;x-success={{drafts:///create?text=[[output]]&amp;action=tumblr-id}}}}
</code></pre>

<p>To make this action work, you will also need <a href="http://blackfoggames.com/TextTool/">TextTool</a> and <a href="http://agiletortoise.com/drafts/">Drafts</a>. And you will need to <a href="drafts://x-callback-url/import_action?type=URL&amp;name=tumblr-id&amp;url=drafts%3A%2F%2F%2Fcreate%3Ftext%3D%7B%7Btumblr%3A%2F%2Fx-callback-url%2Fblog%3FblogName%3D%5B%5Bline%7C3%5D%5D%26postID%3D%5B%5Bline%7C7%5D%5D%7D%7D">import this URL action into Drafts</a>.</p>

<p>Let's work with a random Tumblr post to see how this works:</p>

<pre><code>http://yahoo.tumblr.com/post/90564142294/furthering-our-focus
</code></pre>

<p>Copy this URL to your iOS clipboard, and then tap on the Tumblr action in LCP. LCP sends this string to TextTool, which splits the string at the <code>/</code>:</p>

<pre><code>http:



yahoo.tumblr.com

post

90564142294

furthering-our-focus
</code></pre>

<p>It then takes that output and sends it back to TextTool to split at the <code>.</code>:</p>

<pre><code>http:



yahoo

tumblr

com

post

90564142294

furthering-our-focus
</code></pre>

<p>It then sends that output to Drafts and triggers the <em>tumblr-id</em> URL action:</p>

<pre><code>drafts:///create?text={{tumblr://x-callback-url/blog?blogName=[[line|3]]&amp;postID=[[line|7]]}}
</code></pre>

<p>This action inputs lines 3 and 7 of the draft into the relevant points of the url scheme, and creates a new draft with the final result:</p>

<pre><code>tumblr://x-callback-url/blog?blogName=yahoo&amp;postID=90564142294
</code></pre>

<p>And just to make the action icon look nice, I added <code>lc-icon=tumblr</code>.</p>

<h3>Instagram</h3>

<p>The Instagram action is more complicated. It requires <a href="http://blackfoggames.com/TextTool/">TextTool</a>, <a href="http://agiletortoise.com/drafts/">Drafts</a>, and <a href="http://www.textasticapp.com/">Textastic</a>. <a href="https://launchcenterpro.com/w4z9z9">Import the LCP action</a> or enter this into a new action:</p>

<pre><code>textastic://api.instagram.com/oembed?url=[clipboard]&amp;lc-icon=instagram&amp;lc-callback=[list|url=texttool://x-callback-url/transform?text=[clipboard]&amp;method=split&amp;delimiter=%22&amp;x-success={{drafts:///create?text=[[output]]&amp;action=insta-api}}|image=texttool://x-callback-url/transform?text=[clipboard]&amp;method=split&amp;delimiter=%22&amp;x-success={{drafts:///create?text=[[output]]&amp;action=insta-api-url}}]
</code></pre>

<p>Instagram's url scheme for a post is as follows (as per its <a href="http://instagram.com/developer/iphone-hooks/">iPhone Hooks page</a>):</p>

<pre><code>instagram://media?id=MEDIA_ID
</code></pre>

<p>The media ID is not part of the web URL. But we can get that info from Instagrams's <a href="http://instagram.com/developer/embedding/">Embed API</a>. Let's use an example post (<code>http://instagram.com/p/qJu0a-OHMC</code>) and add it after the <code>url=</code>: </p>

<pre><code>http://api.instagram.com/oembed?url=http://instagram.com/p/qJu0a-OHMC
</code></pre>

<p>This API returns JSON:</p>

<pre><code> {"provider_url":"http:\/\/instagram.com\/","media_id":"759343924702114562_1483611","title":"Another beautiful day in the city! \ud83d\ude0d","url":"http:\/\/photos-d.ak.instagram.com\/hphotos-ak-xfp1\/10537269_595401073912091_331298792_n.jpg","author_name":"newyorkcity","height":640,"width":640,"version":"1.0","author_url":"http:\/\/instagram.com\/newyorkcity","author_id":1483611,"type":"photo","provider_name":"Instagram"} 
</code></pre>

<p>We can see that the media_id is 759343924702114562_1483611. <code>instagram://media?id=759343924702114562_1483611</code> would bring us right to that post in the app, but we need the LCP action to automate the process.</p>

<p>We first need an easy way to grab the HTML of the API results. Textastic has an <a href="http://www.textasticapp.com/v4/manual/x-callback-url.html">url scheme</a> that lets you download a file and open the HTML in the editor by replacing <code>http://</code> with <code>textastic://</code>. The first part of the LCP action does just that. However, even though Textastic supports x-callback-url, it doesn't for this particular action. So we need to tap on the share <i class="fa fa-external-link"></i> button at top right of the screen after the HTML has downloaded, and choose "Copy All." Then we take advantage of a new feature introduced in LCP: lc-callback. For apps that do not support x-callback-url, this is the next best thing. We define the callback action, but instead of it triggering automatically after the first action, we double-tap on the home button (to get the app launcher) and choose LCP. Once we tap on LCP, the next action gets triggered. </p>

<p>Because the embed API also provides the raw image URL for the Instagram post, the lc-callback starts with a list. We can get the iOS url scheme ("url") or the raw image URL ("image"). Let's see what happens when you choose "url":</p>

<p>The entire HTML is sent to TextTool, which splits the string at <code>"</code>:</p>

<pre><code>{

provider_url

:

http:\/\/instagram.com\/

,

media_id

:

759343924702114562_1483611

,

title

:

Another beautiful day in the city! \ud83d\ude0d

,

url

:

http:\/\/photos-d.ak.instagram.com\/hphotos-ak-xfp1\/10537269_595401073912091_331298792_n.jpg

,

author_name

:

newyorkcity

,

height

:640,

width

:640,

version

:

1.0

,

author_url

:

http:\/\/instagram.com\/newyorkcity

,

author_id

:1483611,

type

:

photo

,

provider_name

:

Instagram

}
</code></pre>

<p>This entire string is then sent to Drafts, and the <em>insta-api</em> action is triggered. <a href="drafts://x-callback-url/import_action?type=URL&amp;name=insta-api&amp;url=drafts%3A%2F%2F%2Fcreate%3Ftext%3D%7B%7Binstagram%3A%2F%2Fmedia%3Fid%3D%5B%5Bline%7C8%5D%5D%7D%7D">Import it into Drafts</a> or enter the following as an URL action:</p>

<pre><code>drafts:///create?text={{instagram://media?id=[[line|8]]}}
</code></pre>

<p>It simply takes line 8 -- which contains the media_ID -- and inserts into into the URL scheme.</p>

<p>Now, if we would rather get the raw image URL, we choose "image" after the lc-callback. It also performs a <code>"</code> split and sends that output to Drafts, but it instead triggers the <em>insta-api-url</em> action. <a href="drafts://x-callback-url/import_action?type=URL&amp;name=insta-api-url&amp;url=texttool%3A%2F%2Fx-callback-url%2Ftransform%3Ftext%3D%5B%5Bline%7C16%5D%5D%26method%3Dunescape">Import it into Drafts</a> or enter the following URL action:</p>

<pre><code>texttool://x-callback-url/transform?text=[[line|16]]&amp;method=unescape
</code></pre>

<p>Line 16 -- the raw image URL -- is sent to TextTool. Why? All the forward slashes in the URL are "escaped" </p>

<pre><code>   http:\/\/photos-d.ak.instagram.com\/hphotos-ak-xfp1\/10537269_595401073912091_331298792_n.jpg
</code></pre>

<p>so we have to unescape them:</p>

<pre><code>   http://photos-d.ak.instagram.com/hphotos-ak-xfp1/10537269_595401073912091_331298792_n.jpg
</code></pre>

<p>This action stops at TextTool. It has sharing features, so you can do what you like with URL: e.g., download the image.</p>

<p>To make the action icon look nice, I added <code>lc-icon=instagram</code>.</p>

<p>Granted, this LCP action is not fluid. I think it would possible to perform the conversion without the "Copy All" and lc-callback using the JSON parser in Pythonista, but I'm not proficient enough to accomplish that as of this writing. If you write an action that accomplishes the conversion with fewer steps, I would love to hear from you in the comments section or on Twitter.</p>

<p><strong>Thanks</strong> to @epramono and @youens on Twitter for helping me to understand LCP 2.3.x at a deeper level.</p></div>
						<div class="divFooterText">
							<hr>
							<p style="float: right;">Last built: Tue, Mar 31, 2015 at 12:50 PM</p>
							<script>var disqus_identifier = "Mon, 07 Jul 2014 18:38:49 GMT";</script><a onclick="showHideComments ()"><span id="idShowHideComments" style="cursor: pointer;"></span></a><div class="divDisqusComments" id="idDisqusComments" style="visibility: visible;" ><div id="disqus_thread"></div></div><script type="text/javascript" src="http://disqus.com/forums/jeffreykishner/embed.js"></script></div>
							<div class="divByline" id="idByline">By <a href="http://jeffreykishner.com/" target="_blank">Jeffrey Kishner</a>, <span id="idWhenCreated">Monday, July  7, 2014 at  1:38 PM</span>.  <span class="spSlogan" style="float: right;"><i></i></span></div>
							</div>
						</div>
						</div>
				</div>
			</div>
		<script>
			startupFargoPlatform ();
			startupOutlineTemplate ();
			</script>
		</body>
	</html>
