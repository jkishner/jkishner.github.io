<!DOCTYPE html>
<html>
	<head>
		<title>Convert Tumblr and Instagram Post Web Links to iOS URL Schemes With These Launch Center Pro Actions</title>
		<meta charset='utf-8'> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="alternate" type="application/rss+xml" title="RSS" href="http://blog.jeffreykishner.com/rss.xml" />
		
		<!-- useBootstrap -->
	<link href="http://static.smallpicture.com/bootswatch/spacelab/bootstrap.min.css" rel="stylesheet" />
	<script src="http://static.smallpicture.com/bootstrap/js/jquery-1.9.1.min.js"></script>
	<script src="http://static.smallpicture.com/bootstrap/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="http://static.smallpicture.com/concord-assets/fontawesome/4.0.3/css/font-awesome.min.css">
		<!-- useSmallPictStyles -->
	<link href="http://fargo.io/cms/platform.css?v=0.48" rel="stylesheet">
	<script src="http://fargo.io/cms/platform.js?v=0.48"></script>
	<script>
		var pagetable = {
    "opmlUrl": "https://dl.dropbox.com/s/8lpmfklfk5w559i/jeffrey.opml",
    "opmlTitle": "jeffrey",
    "opmlOwnerName": "Jeffrey Kishner",
    "opmlOwnerEmail": "jk@jeffreykishner.com",
    "opmlDateModified": "Fri, 11 Jul 2014 14:28:07 GMT",
    "opmlExpansionState": "1,2,3,4,7,8,10,18,19,25,26,74,75,197",
    "opmlLink": "http://blog.jeffreykishner.com/",
    "opmlFeed": "http://blog.jeffreykishner.com/rss.xml",
    "opmlOwnerProfile": "http://jeffreykishner.com/",
    "opmlFlEncrypted": "false",
    "opmlLongTitle": "Jeffrey Kishner",
    "opmlFont": "",
    "opmlFontSize": "",
    "opmlLineHeight": "",
    "opmlFlCmsRender": "true",
    "opmlFlCmsRenderInBackground": "true",
    "opmlDescription": "",
    "opmlLinkHosting": "https://dl.dropbox.com/s/0vnsj1qc2zq31bi/jeffrey.pack",
    "opmlTypeInsertedNode": "",
    "opmlLinkPublicUrl": "https://dl.dropbox.com/s/8lpmfklfk5w559i/jeffrey.opml",
    "opmlDateCreated": "",
    "opmlOwnerId": "",
    "menuname": "jeffmenu",
    "googleAnalyticsID": "",
    "domain": "",
    "bootstrapTheme": "spacelab",
    "type": "outline",
    "slogan": "This aggression will not stand.",
    "disqusGroupName": "jeffreykishner",
    "siteTimeZone": "-5",
    "dateFormat": "%A, %B %e, %Y at %l:%M %p",
    "flIndexPage": false,
    "flDisqusComments": "true",
    "flStoryTextOnIndexPage": false,
    "flNonDocHeadsOnIndexPage": true,
    "flStoryDateOnIndexPage": false,
    "storyDateFormat": "%D; %r",
    "maxStoriesOnIndexPage": 25,
    "maxStoryList": 25,
    "authorTwitterAccount": "kishner",
    "authorFacebookAccount": "jeffreykishner",
    "authorProfileUrl": "http://jeffreykishner.com/",
    "titleColor": "white",
    "siteFolder": "jkishner.github.io/",
    "flProfile": false,
    "ctLevelsOnIndexPage": 1,
    "blogHomeItemCount": 25,
    "flPgfPermaLinks": false,
    "flFixedMenu": "false",
    "maxStreamDays": "14",
    "text": "Convert Tumblr and Instagram Post Web Links to iOS URL Schemes With These Launch Center Pro Actions",
    "created": "Mon, 07 Jul 2014 18:38:49 GMT",
    "description": "",
    "path": "2014/07/07/convertTumblrAndInstagramPostWebLinksToIosUrlSchemesWithTheseLaunchCenterProActions",
    "subheadColor": "white",
    "flMapHeader": "false",
    "mapLatitude": "40.774295",
    "mapLongitude": "-73.970833",
    "mapType": "roadmap",
    "mapZoom": "14",
    "flSnapEnabled": "true",
    "flHideByline": "false",
    "backgroundImage": "",
    "streamHighlightColor": "yellow",
    "streamTextFrameColor": "whitesmoke",
    "streamVersion": "2",
    "flEmojify": "true",
    "authorGithubAccount": "jkishner",
    "name": "convertTumblrAndInstagramPostWebLinksToIosUrlSchemesWithTheseLaunchCenterProActions",
    "icon": "calendar",
    "isFeedItem": "true",
    "isComment": "false",
    "cssUrl": "http://static.smallpicture.com/bootswatch/spacelab/bootstrap.min.css",
    "menuTitle": "Jeffrey Kishner",
    "now": "Fri Jul 11 2014 10:28:07 GMT-0400 (EDT)",
    "copyright": "&copy; 2014 Jeffrey Kishner.",
    "url": "http://blog.jeffreykishner.com/2014/07/07/convertTumblrAndInstagramPostWebLinksToIosUrlSchemesWithTheseLaunchCenterProActions.html"
}; //12/12/13 by DW
		</script>
		<style>
			@media only screen 
			and (min-device-width : 320px) 
			and (max-device-width : 480px) {
				.navbar .nav>li {
					display: none;
					height: 0;
					}
				.divFargoSocialMediaLinks {
					display: none;
					}
				.container {
					margin-top: 10px;
					width: 90%;
					}
				.divFargoMarkdown p {
					font-size: 17px;
					line-height: 140%;
					}
				h2 {
					font-size: 24px;
					line-height: 140%;
					}
				.divHeadlineUnit {
					margin-bottom: 5px;
					}
				.divPrevNext {
					font-size: 1.2em;
					}
				.divBreadcrumbs {
					display: none;
					font-size: 15px;
					}
				.breadcrumb>li>.divider {
					padding: 0;
					padding-left: 1px;
					}
				.spSlogan {
					display: none;
					}
				}
			</style>
		<style>
			.divOutlineImage {
				height: 100%;
				width: 100%;
				position: absolute;
				right: 0;
				
				-webkit-background-size: cover;
				-moz-background-size: cover;
				-o-background-size: cover;
				background-size: cover;
				background-position: center;
				background-repeat: no-repeat;
				
				z-index: -1;
				opacity: 1;
				}
			.divTextInFrontOfImage {
				background-color: white; 
				opacity: .90;
				padding: 1.5em;
				border:2px solid whitesmoke;
				}
			.spSlogan {
				display: none;
				}
			</style>
		<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"> 
<style>
	.divFargoIndex .aDocTitleOnIndexPage {
		font-size: 33.75px !important;
		line-height: 42px !important;
		color: #0088cc !important;
		}
	.divTitleDescription { display: none; }
	.icon-star:before { content: "\f0c1"; }
	.greenText {
		color: green !important;
		font-weight: bold !important;
		}
	ul {
		list-style-type: none;
		}
	.divByline {
		visibility: hidden;
		height: 0px;
		}
	</style>
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-42108157-1', 'jeffreykishner.com');
	ga('send', 'pageview');
	</script>
		
		<script>
			function startupOutlineTemplate () {
				if ((pagetable.backgroundImage != undefined) && (pagetable.backgroundImage.length > 0)) {
					var textInFront = document.getElementById ("idTextInFrontOfImage"); 
					textInFront.className = "divTextInFrontOfImage";
					
					var outlineImage = document.getElementById ("idOutlineImage"); 
					outlineImage.className = "divOutlineImage";
					outlineImage.style.backgroundImage = "url(\"" + pagetable.backgroundImage + "\")";
					}
				}
			</script>
		</head>
	<body>
		<div class="divFargoSocialMediaLinks"><a class="aSocialMediaLink" id="idTwitterLink" href="http://twitter.com/kishner" target="_blank"><i class="fa fa-twitter" style="color: #4099FF; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idFacebookLink" href="http://facebook.com/jeffreykishner" target="_blank"><i class="fa fa-facebook" style="color: #4C66A4; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idGithubLink" href="http://github.com/jkishner" target="_blank"><i class="fa fa-github" style="color: black; font-weight: bold;"></i></a>
<a class="aSocialMediaLink" id="idRssLink" href="http://blog.jeffreykishner.com/rss.xml" target="_blank"><i class="fa fa-rss" style="color: orange; font-weight: bold;"></i></a>
</div>
		
<div class="navbar navbar-static-top" id="idFargoNavbar">
	<div class="navbar-inner">
		<div class="navbar-container">
			<a class="brand" href="http://blog.jeffreykishner.com/">Jeffrey Kishner</a>
			<ul class="nav">
				<li><a href="http://blog.jeffreykishner.com/about.html" target="_blank">About Me</a></li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Archives&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="/2014/06/" target="_blank">June 2014</a></li>
						<li><a href="/2014/05/" target="_blank">May 2014</a></li>
						<li><a href="/2014/04/" target="_blank">Apr 2014</a></li>
						<li><a href="/2014/03/" target="_blank">Mar 2014</a></li>
						<li><a href="/2014/02/" target="_blank">Feb 2014</a></li>
						<li><a href="/2014/01/" target="_blank">Jan 2014</a></li>
						<li><a href="/2013/12/" target="_blank">Dec 2013</a></li>
						<li><a href="/2013/09/" target="_blank">Sept 2013</a></li>
						<li><a href="/2013/08/" target="_blank">Aug 2013</a></li>
						<li><a href="/2013/07/" target="_blank">July 2013</a></li>
						<li><a href="/2013/06/" target="_blank">June 2013</a></li>
						</ul>
					</li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Recent Posts&nbsp;<b class="caret"></b></a>
					<ul class="dropdown-menu">
	<li><a href="http://blog.jeffreykishner.com/2014/07/11/podcastAboutUrlSchemes.html" target="_blank">Podcast About URL Schemes</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/10/theMeaningOfFavoritingATweet.html" target="_blank">The Meaning of Favoriting a Tweet</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/10/2ndUpdateToMyLcpTodotxtActionNowWithPriorities.html" target="_blank">2nd Update to My LCP Todo.txt Action: Now With Priorities</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/09/updateToLaunchCenterProActionToTodotxtMultipleContextsAndProjects.html" target="_blank">Update to Launch Center Pro Action to Todo.txt: Multiple Contexts and Projects</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/08/aLaunchCenterProActionForTodotxt.html" target="_blank">A Launch Center Pro Action for Todo.txt</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/08/howToGetTheSoundcloudUrlSchemesForUsersAndTracks.html" target="_blank">How to Get the SoundCloud URL Schemes for Users and Tracks</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/07/convertTumblrAndInstagramPostWebLinksToIosUrlSchemesWithTheseLaunchCenterProActions.html" target="_blank">Convert Tumblr and Instagram Post Web Links to iOS URL Schemes With These Launch Center Pro Actions</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/07/commandLineScriptForPaperlessListsChecklists.html" target="_blank">Command Line Script for "Paperless: Lists + Checklists"</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/03/cloudServicesAndSocialNetworkingOnTheLinuxCommandLine.html" target="_blank">Cloud Services and Social Networking on the Linux Command Line</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/02/updateToMyOpmltowordpressPlugin.html" target="_blank">Update to My OPML-to-WordPress Plugin</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/07/01/getADirectLinkToAnyNoteInEvernoteForIos.html" target="_blank">Get a Direct Link to Any Note in Evernote for iOS</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/30/desktopBookmarkletToSendEmailViaFastmailWithDocumentTitleAndUrl.html" target="_blank">Desktop Bookmarklet to Send Email via Fastmail With Document Title and URL</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/30/automateAYoutubeEmbedCodeOnYourIosDeviceWithDraftsTexttoolAndLaunchCenterPro.html" target="_blank">Automate a YouTube Embed Code on Your iOS Device With Drafts, TextTool, and Launch Center Pro</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/29/youreMyGayBestFriendVideo.html" target="_blank">You're My Gay Best Friend (Video)</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/27/embeddingHappyFriendsTweetsInFargo.html" target="_blank">Embedding Happy Friends Tweets in Fargo</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/26/thisBlogIsNowHostedAtGithubPages.html" target="_blank">This Blog Is Now Hosted at Github Pages</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/19/iosBookmarkletToOpenASpotifyShareUrlIntoTheApp.html" target="_blank">iOS Bookmarklet to Open a Spotify Share URL into the App</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/19/draftsATextMessageForLaterWithLaunchCenterPro23.html" target="_blank">Draft a Text Message for Later with Launch Center Pro 2.3</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/18/howToCreateAnRssFeedForAnInstagramProfile.html" target="_blank">How to Create an RSS Feed for an Instagram Profile</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/16/useNestedListsInLaunchCenterPro23ToOpenAlbumsByArtistInSpotifyAndEcouteForIos.html" target="_blank">Use Nested Lists in Launch Center Pro 2.3 to Open Albums by Artist in Spotify and Ecoute for iOS </a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/06/16/howToQuicklyJumpToListsInTweetbotForIos.html" target="_blank">How to Quickly Jump to Lists in Tweetbot for iOS</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/05/23/sendTextAndAnActionToDraftsForIosFromTheCommandLine.html" target="_blank">Send Text and an Action to Drafts for iOS From the Command Line</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/05/22/subscribeToOpmlListsInFargo.html" target="_blank">"Subscribe" to OPML Lists in Fargo</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/05/19/usingFargoAsAFeedReader.html" target="_blank">Using Fargo as a Feed Reader</a></li>
	<li><a href="http://blog.jeffreykishner.com/2014/05/16/theGetDownCielo.html" target="_blank">The Get Down @ Cielo</a></li>
	</ul>

					<li><a href="http://blog.jeffreykishner.com/scripts/" target="_blank">Scripts</a></li>
					<li><a href="mailto:jk@jeffreykishner.com" target="_blank"><i class="fa fa-envelope-o" title="Email Me"></i></a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="divFargoOutlineBody">
			<div id="idOutlineImage">
				<div id="idOutlineContainer" class="container">
					<div id="idTextInFrontOfImage">
						<div class="divHeadlineUnit" id="idHeadlineUnit">
							<div class="divPrevNext">
								<div class="divPrevNextLinks"><a href="http://blog.jeffreykishner.com/2014/07/08/howToGetTheSoundcloudUrlSchemesForUsersAndTracks.html" title="How to Get the SoundCloud URL Schemes for Users and Tracks" ><i class="fa fa-arrow-left" style="color: black"></i></a>&nbsp;&nbsp;<a href="http://blog.jeffreykishner.com/2014/07/07/commandLineScriptForPaperlessListsChecklists.html" title="Command Line Script for "Paperless: Lists + Checklists"" ><i class="fa fa-arrow-right" style="color: black"></i></a></div>
								</div>
							<div class="divBreadcrumbs" id="idBreadcrumbs">
								<ul id="idBreadcrumbList" class="breadcrumb"><li><a href="http://blog.jeffreykishner.com">Home</a><span class="divider">/</span><li><a href="http://blog.jeffreykishner.com/2014">2014</a><span class="divider">/</span><li><a href="http://blog.jeffreykishner.com/2014/07">July 2014</a><span class="divider">/</span><li><a href="http://blog.jeffreykishner.com/2014/07/07">July 7</a></li></ul>
								</div>
							<h2>Convert Tumblr and Instagram Post Web Links to iOS URL Schemes With These Launch Center Pro Actions</h2>
							</div>
						<div class="divFargoMarkdown" id="idFargoMarkdown"><p>If you're browsing the Tumblr or Instagram apps on your iOS device and want to get the share URL, they are formatted as follows:</p>

<pre><code>http://NAME.tumblr.com/post/POST_ID/SLUG

http://instagram.com/p/POST_ID
</code></pre>

<p>Unfortunately, these are web links. What if you want a link that will bring you right to that post ID in the <em>app</em>? I have written a couple of <a href="http://contrast.co/launch-center-pro/">Launch Center Pro</a> actions to automate these processes.</p>

<h3>Tumblr</h3>

<p>The URL scheme for a Tumblr post (as per <a href="https://github.com/tumblr/TMTumblrSDK#url-schemes">GitHub</a>) is as follows:</p>

<pre><code>tumblr://x-callback-url/blog?blogName=NAME&amp;postID=POST_ID
</code></pre>

<p>All the information you need is in the web link, but you need to rearrange it all to make it work.</p>

<p><a href="https://launchcenterpro.com/759n6q">Import the Tumblr action</a> or enter the following into LCP:</p>

<pre><code>texttool://x-callback-url/transform?text=[clipboard]&amp;method=split&amp;delimiter=%2F&amp;lc-icon=tumblr&amp;x-success={{texttool://x-callback-url/transform?text=[[output]]&amp;method=split&amp;delimiter=.&amp;x-success={{drafts:///create?text=[[output]]&amp;action=tumblr-id}}}}
</code></pre>

<p>To make this action work, you will also need <a href="http://blackfoggames.com/TextTool/">TextTool</a> and <a href="http://agiletortoise.com/drafts/">Drafts</a>. And you will need to <a href="drafts://x-callback-url/import_action?type=URL&amp;name=tumblr-id&amp;url=drafts%3A%2F%2F%2Fcreate%3Ftext%3D%7B%7Btumblr%3A%2F%2Fx-callback-url%2Fblog%3FblogName%3D%5B%5Bline%7C3%5D%5D%26postID%3D%5B%5Bline%7C7%5D%5D%7D%7D">import this URL action into Drafts</a>.</p>

<p>Let's work with a random Tumblr post to see how this works:</p>

<pre><code>http://yahoo.tumblr.com/post/90564142294/furthering-our-focus
</code></pre>

<p>Copy this URL to your iOS clipboard, and then tap on the Tumblr action in LCP. LCP sends this string to TextTool, which splits the string at the <code>/</code>:</p>

<pre><code>http:



yahoo.tumblr.com

post

90564142294

furthering-our-focus
</code></pre>

<p>It then takes that output and sends it back to TextTool to split at the <code>.</code>:</p>

<pre><code>http:



yahoo

tumblr

com

post

90564142294

furthering-our-focus
</code></pre>

<p>It then sends that output to Drafts and triggers the <em>tumblr-id</em> URL action:</p>

<pre><code>drafts:///create?text={{tumblr://x-callback-url/blog?blogName=[[line|3]]&amp;postID=[[line|7]]}}
</code></pre>

<p>This action inputs lines 3 and 7 of the draft into the relevant points of the url scheme, and creates a new draft with the final result:</p>

<pre><code>tumblr://x-callback-url/blog?blogName=yahoo&amp;postID=90564142294
</code></pre>

<p>And just to make the action icon look nice, I added <code>lc-icon=tumblr</code>.</p>

<h3>Instagram</h3>

<p>The Instagram action is more complicated. It requires <a href="http://blackfoggames.com/TextTool/">TextTool</a>, <a href="http://agiletortoise.com/drafts/">Drafts</a>, and <a href="http://www.textasticapp.com/">Textastic</a>. <a href="https://launchcenterpro.com/w4z9z9">Import the LCP action</a> or enter this into a new action:</p>

<pre><code>textastic://api.instagram.com/oembed?url=[clipboard]&amp;lc-icon=instagram&amp;lc-callback=[list|url=texttool://x-callback-url/transform?text=[clipboard]&amp;method=split&amp;delimiter=%22&amp;x-success={{drafts:///create?text=[[output]]&amp;action=insta-api}}|image=texttool://x-callback-url/transform?text=[clipboard]&amp;method=split&amp;delimiter=%22&amp;x-success={{drafts:///create?text=[[output]]&amp;action=insta-api-url}}]
</code></pre>

<p>Instagram's url scheme for a post is as follows (as per its <a href="http://instagram.com/developer/iphone-hooks/">iPhone Hooks page</a>):</p>

<pre><code>instagram://media?id=MEDIA_ID
</code></pre>

<p>The media ID is not part of the web URL. But we can get that info from Instagrams's <a href="http://instagram.com/developer/embedding/">Embed API</a>. Let's use an example post (<code>http://instagram.com/p/qJu0a-OHMC</code>) and add it after the <code>url=</code>: </p>

<pre><code>http://api.instagram.com/oembed?url=http://instagram.com/p/qJu0a-OHMC
</code></pre>

<p>This API returns JSON:</p>

<pre><code> {"provider_url":"http:\/\/instagram.com\/","media_id":"759343924702114562_1483611","title":"Another beautiful day in the city! \ud83d\ude0d","url":"http:\/\/photos-d.ak.instagram.com\/hphotos-ak-xfp1\/10537269_595401073912091_331298792_n.jpg","author_name":"newyorkcity","height":640,"width":640,"version":"1.0","author_url":"http:\/\/instagram.com\/newyorkcity","author_id":1483611,"type":"photo","provider_name":"Instagram"} 
</code></pre>

<p>We can see that the media_id is 759343924702114562_1483611. <code>instagram://media?id=759343924702114562_1483611</code> would bring us right to that post in the app, but we need the LCP action to automate the process.</p>

<p>We first need an easy way to grab the HTML of the API results. Textastic has an <a href="http://www.textasticapp.com/v4/manual/x-callback-url.html">url scheme</a> that lets you download a file and open the HTML in the editor by replacing <code>http://</code> with <code>textastic://</code>. The first part of the LCP action does just that. However, even though Textastic supports x-callback-url, it doesn't for this particular action. So we need to tap on the share <i class="fa fa-external-link"></i> button at top right of the screen after the HTML has downloaded, and choose "Copy All." Then we take advantage of a new feature introduced in LCP: lc-callback. For apps that do not support x-callback-url, this is the next best thing. We define the callback action, but instead of it triggering automatically after the first action, we double-tap on the home button (to get the app launcher) and choose LCP. Once we tap on LCP, the next action gets triggered. </p>

<p>Because the embed API also provides the raw image URL for the Instagram post, the lc-callback starts with a list. We can get the iOS url scheme ("url") or the raw image URL ("image"). Let's see what happens when you choose "url":</p>

<p>The entire HTML is sent to TextTool, which splits the string at <code>"</code>:</p>

<pre><code>{

provider_url

:

http:\/\/instagram.com\/

,

media_id

:

759343924702114562_1483611

,

title

:

Another beautiful day in the city! \ud83d\ude0d

,

url

:

http:\/\/photos-d.ak.instagram.com\/hphotos-ak-xfp1\/10537269_595401073912091_331298792_n.jpg

,

author_name

:

newyorkcity

,

height

:640,

width

:640,

version

:

1.0

,

author_url

:

http:\/\/instagram.com\/newyorkcity

,

author_id

:1483611,

type

:

photo

,

provider_name

:

Instagram

}
</code></pre>

<p>This entire string is then sent to Drafts, and the <em>insta-api</em> action is triggered. <a href="drafts://x-callback-url/import_action?type=URL&amp;name=insta-api&amp;url=drafts%3A%2F%2F%2Fcreate%3Ftext%3D%7B%7Binstagram%3A%2F%2Fmedia%3Fid%3D%5B%5Bline%7C8%5D%5D%7D%7D">Import it into Drafts</a> or enter the following as an URL action:</p>

<pre><code>drafts:///create?text={{instagram://media?id=[[line|8]]}}
</code></pre>

<p>It simply takes line 8 -- which contains the media_ID -- and inserts into into the URL scheme.</p>

<p>Now, if we would rather get the raw image URL, we choose "image" after the lc-callback. It also performs a <code>"</code> split and sends that output to Drafts, but it instead triggers the <em>insta-api-url</em> action. <a href="drafts://x-callback-url/import_action?type=URL&amp;name=insta-api-url&amp;url=texttool%3A%2F%2Fx-callback-url%2Ftransform%3Ftext%3D%5B%5Bline%7C16%5D%5D%26method%3Dunescape">Import it into Drafts</a> or enter the following URL action:</p>

<pre><code>texttool://x-callback-url/transform?text=[[line|16]]&amp;method=unescape
</code></pre>

<p>Line 16 -- the raw image URL -- is sent to TextTool. Why? All the forward slashes in the URL are "escaped" </p>

<pre><code>   http:\/\/photos-d.ak.instagram.com\/hphotos-ak-xfp1\/10537269_595401073912091_331298792_n.jpg
</code></pre>

<p>so we have to unescape them:</p>

<pre><code>   http://photos-d.ak.instagram.com/hphotos-ak-xfp1/10537269_595401073912091_331298792_n.jpg
</code></pre>

<p>This action stops at TextTool. It has sharing features, so you can do what you like with URL: e.g., download the image.</p>

<p>To make the action icon look nice, I added <code>lc-icon=instagram</code>.</p>

<p>Granted, this LCP action is not fluid. I think it would possible to perform the conversion without the "Copy All" and lc-callback using the JSON parser in Pythonista, but I'm not proficient enough to accomplish that as of this writing. If you write an action that accomplishes the conversion with fewer steps, I would love to hear from you in the comments section or on Twitter.</p>

<p><strong>Thanks</strong> to @epramono and @youens on Twitter for helping me to understand LCP 2.3.x at a deeper level.</p></div>
						<div class="divFooterText">
							<hr>
							<p style="float: right;">Last built: Fri, Jul 11, 2014 at  9:28 AM</p>
							<script>var disqus_identifier = "https://dl.dropbox.com/s/8lpmfklfk5w559i/jeffrey.opmlMon, 07 Jul 2014 18:38:49 GMT";</script><a onclick="showHideComments ()"><span id="idShowHideComments" style="cursor: pointer;"></span></a><div class="divDisqusComments" id="idDisqusComments" style="visibility: visible;" ><div id="disqus_thread"></div></div><script type="text/javascript" src="http://disqus.com/forums/jeffreykishner/embed.js"></script></div>
							<div class="divByline" id="idByline">By <a href="http://jeffreykishner.com/" target="_blank">Jeffrey Kishner</a>, <span id="idWhenCreated">Monday, July  7, 2014 at  1:38 PM</span>.  <span class="spSlogan" style="float: right;"><i></i></span></div>
							</div>
						</div>
						</div>
				</div>
			</div>
		<script>
			startupFargoPlatform ();
			startupOutlineTemplate ();
			</script>
		</body>
	</html>
